#SDK include header files
#export EXTRA_CFLAGS += -I$(COMMON_UNF_INCLUDE)                 \

#build in or not
export CONFIG_MALI400=$(CONFIG_HI_GPU_SUPPORT)

export TARGET_PLATFORM=s40v200

#SDK flags  
#export EXTRA_DEFINES += $(CFG_HI_KMOD_CFLAGS)

#if use pmu, we need i2c driver
ifeq ($(CONFIG_HI_PMU_DEVICE_SELECT),y)
export EXTRA_DEFINES += -DCONFIG_HI_PMU_DEVICE_SELECT
export EXTRA_DEFINES += -I$(COMMON_UNF_INCLUDE) -I$(COMMON_DRV_INCLUDE) -I$(MSP_DRV_INCLUDE)
endif

# Max GPU and OS shared memory size
export EXTRA_DEFINES += -DCONFIG_GPU_MAX_SHARE_MEM_SIZE=$(CONFIG_HI_GPU_MAX_SHARE_MEM_SIZE)

# Enable DMA Buffer map on attach
export CONFIG_MALI_DMA_BUF_MAP_ON_ATTACH=y
export EXTRA_DEFINES += -DCONFIG_MALI_DMA_BUF_MAP_ON_ATTACH

#whether enable dvfs or not
ifeq ($(CONFIG_HI_DVFS_GPU_SUPPORT),y)
export CONFIG_GPU_DVFS_ENABLE=y
export EXTRA_DEFINES += -DCONFIG_GPU_DVFS_ENABLE
#enable gpu proc
export EXTRA_DEFINES += -DGPU_PROC_SUPPORT
endif

#whether enable avs or not
ifeq ($(CONFIG_HI_AVS_SUPPORT),y)
export CONFIG_GPU_AVS_ENABLE=y
export EXTRA_DEFINES += -DCONFIG_GPU_AVS_ENABLE
endif

ifeq ($(CONFIG_HI_DONGLE_MODE_NORMAL),y)
export EXTRA_DEFINES += -DHI_DONGLE_MODE_NORMAL
endif

ifeq ($(CONFIG_HI_DONGLE_MODE_LOW),y)
export EXTRA_DEFINES += -DHI_DONGLE_MODE_LOW
endif

ifeq ($(CONFIG_HI_DONGLE_MODE_CRITICAL),y)
export EXTRA_DEFINES += -DHI_DONGLE_MODE_CRITICAL
endif

#if buildin, we should enable share interrupt and FAKE Driver here
export CONFIG_MALI_SHARED_INTERRUPTS=y
export EXTRA_DEFINES += -DCONFIG_MALI_SHARED_INTERRUPTS

#hisi integration
export EXTRA_DEFINES += -DMALI_FAKE_PLATFORM_DEVICE=1
export MALI_PLATFORM_FILES = platform/$(TARGET_PLATFORM)/s40v200.c \
                            platform/$(TARGET_PLATFORM)/s40v200_clk.c \
                            platform/$(TARGET_PLATFORM)/s40v200_core_scaling.c \
                            platform/$(TARGET_PLATFORM)/s40v200_pmu.c \
                            platform/$(TARGET_PLATFORM)/s40v200_gpu_proc.c

#debug or release
ifeq ($(CONFIG_HI_GPU_DEBUG),y)
BUILD=debug
export CONFIG_MALI400_DEBUG=y
else
BUILD=release
endif

#profiling
ifeq ($(MALI_QUIET),y)
export CONFIG_MALI_QUIET=y
export EXTRA_DEFINES += -DCONFIG_MALI_QUIET
endif

ifeq ($(CONFIG_HI_GPU_PROFILING), y)
USING_PROFILING=1
export CONFIG_MALI400_PROFILING=y
export EXTRA_DEFINES += -DCONFIG_MALI400_PROFILING=1
else
USING_PROFILING=0
endif

#internal profiling
ifeq ($(CONFIG_HI_GPU_INTERNAL_PROFILING), y)
USING_INTERNAL_PROFILING=1
export CONFIG_MALI400_INTERNAL_PROFILING=y
export EXTRA_DEFINES += -DCONFIG_MALI400_INTERNAL_PROFILING=1
else
USING_INTERNAL_PROFILING=0
endif

